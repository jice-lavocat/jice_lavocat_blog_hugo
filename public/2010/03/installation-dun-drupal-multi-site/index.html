<!DOCTYPE html>
<html lang="fr-FR">
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Installation d’un Drupal multi-site &middot;  World Hacks" />
  	<meta property="og:site_name" content="World Hacks" />
  	<meta property="og:url" content="http://jice.lavocat.name/blog/2010/03/installation-dun-drupal-multi-site/" />

    
    <meta property="og:image" content="http://jice.lavocat.name/blog/[http://digital.edipresse.com/wp-content/uploads/2009/08/drupal1.gif]" />
    

    
      <meta property="og:type" content="article" />

      
      <meta property="og:description" content="Drupal - CMS Petit article très rapide pour présenter la procédure d&#8217;installation d&#8217;un Drupal multi-sites sur un serveur tout bête ( le plus petit mutualisé peut servir). Le but d&#8217;un multi-sites est d&#8217;avoir un seul répertoire contenant le code de base, et plusieurs répertoires de petite taille comportant les éléments particuliers à chaque sites. Ce procédé est intéressant si vous construisez souvent vos sites à partir d&#8217;un même système de modules (exemple la même galerie, le même composant de forum, etc.)." />
      <meta name="description" content="Drupal - CMS Petit article très rapide pour présenter la procédure d&#8217;installation d&#8217;un Drupal multi-sites sur un serveur tout bête ( le plus petit mutualisé peut servir). Le but d&#8217;un multi-sites est d&#8217;avoir un seul répertoire contenant le code de base, et plusieurs répertoires de petite taille comportant les éléments particuliers à chaque sites. Ce procédé est intéressant si vous construisez souvent vos sites à partir d&#8217;un même système de modules (exemple la même galerie, le même composant de forum, etc.)." />

      
      <meta property="article:author" content="https://www.facebook.com/jean.christophe.gomez.lavocat" />
      

      <meta property="og:article:published_time" content="2010-03-24T00:00:00Z" />

      
      <meta property="og:article:tag" content="blog" />
      
      <meta property="og:article:tag" content="CMS" />
      
      <meta property="og:article:tag" content="Drupal" />
      
      <meta property="og:article:tag" content="Installation" />
      
    

  <title>
     Installation d’un Drupal multi-site &middot;  World Hacks
  </title>

    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="http://jice.lavocat.name/blog/images/favicon.ico">
	  <link rel="apple-touch-icon" href="http://jice.lavocat.name/blog/images/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="http://jice.lavocat.name/blog/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="http://jice.lavocat.name/blog/index.xml" rel="alternate" type="application/rss+xml" title="World Hacks" />
      
      
    
    <meta name="generator" content="Hugo 0.14" />

    <link rel="canonical" href="http://jice.lavocat.name/blog/2010/03/installation-dun-drupal-multi-site/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-3492655-1', 'auto');
      ga('send', 'pageview');

    </script>
    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://jice.lavocat.name/blog/">My Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://jice.lavocat.name/blog/about/">About me</a>
            </li>
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="http://jice.lavocat.name/blog/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head" style="background-image: url(http://jice.lavocat.name/blog/#ZgotmplZ)">
  <nav class="main-nav overlay clearfix">


  
      <a class="blog-logo" href="http://jice.lavocat.name/blog/"><img src="http://jice.lavocat.name/blog/images/logo.png" alt="Home" /></a><a class="blog-logo" href="http://jice.lavocat.name/blog/"><div style="padding-left: 7px;text-align: left; color: #000;">World Hacks (Home)</div></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Installation d’un Drupal multi-site</h1>
        <section class="post-meta">
        
          <time class="post-date" datetime="2010-03-24T00:00:00Z">
            Mar 24, 2010
          </time>
        
         
          <span class="post-tag small"><a href="http://jice.lavocat.name/blog/tags/blog/">#blog</a></span>
         
          <span class="post-tag small"><a href="http://jice.lavocat.name/blog/tags/cms/">#CMS</a></span>
         
          <span class="post-tag small"><a href="http://jice.lavocat.name/blog/tags/drupal/">#Drupal</a></span>
         
          <span class="post-tag small"><a href="http://jice.lavocat.name/blog/tags/installation/">#Installation</a></span>
         
        </section>
    </header>
  
    <section class="post-content">
      <p style="text-align: justify;">
  <figure class="alignleft">

    <img src="http://jice.lavocat.name/blog//http://digital.edipresse.com/wp-content/uploads/2009/08/drupal1.gif" alt="Drupal - CMS" width="250" />
    

<figcaption>
    <h4>Drupal - CMS</h4>
    
</figcaption>

</figure>Petit article très rapide pour présenter la procédure d&#8217;installation d&#8217;un <a title="Drupal - CMS" href="http://drupal.org/" target="_blank">Drupal</a> multi-sites sur un serveur tout bête ( le plus petit mutualisé peut servir).
</p>

<p style="text-align: justify;">
  Le but d&#8217;un multi-sites est d&#8217;avoir un seul répertoire contenant le code de base, et plusieurs répertoires de petite taille comportant les éléments particuliers à chaque sites. Ce procédé est intéressant si vous construisez souvent vos sites à partir d&#8217;un même système de modules (exemple la même galerie, le même composant de forum, etc.). Les avantages concernent la mise à jour qui devient centralisée et plus rapide par conséquent.
</p>

<h2 style="text-align: justify;">
  Le principe
</h2>

<p style="text-align: justify;">
  Imaginons que votre répertoire de base est <em>/www</em>. Tout d&#8217;abord, il est nécessaire de créer un répertoire /<em>www/drupal</em> qui contiendra les fichiers d&#8217;installation de base (dézipper le contenu du fichier téléchargés sur le site de Drupal).
</p>

<p style="text-align: justify;">
  Imaginons que vous ayez à créer deux sites web : <em>site1.com</em> et <em>site2.com</em>. Avant de continuer la configuration, ilfaut rediriger vos noms de domaine vers deux dossiers spécifiques à ces sites. Par exemple, <em>/www/site1</em> et <em>/www/site2</em> Ensuite, pour chacun d&#8217;eux, il est besoin de créer un lien symbolique vers le répertoire drupal de base. Ainsi, nous allons d&#8217;abord supprimer les dossiers crées plus haut, puis les envoyer symboliquement vers notre répertoire de base.
</p>

<pre style="text-align: justify;">rmdir /www/site1</pre>

<pre style="text-align: justify;">ln -s /www/drupal /www/site1</pre>

<p style="text-align: justify;">
  A présent, il faut créer un répertoire dédié à chaque site dans votre installation de drupal. Le moteur de Drupal est assez fort techniquement, et se base sur le nom de votre dossier pour comprendre quel URL appelle quel dossier. Créez donc les dossiers <em>/www/drupal/sites/site1.com</em> et <em>/www/drupal/sites/site2.com</em>. Copiez, dans chacun de ces répertoires le fichier <em>/www/drupal/sites/all/settings.php</em>, et renseignez-y les informations concernant votre base de données.
</p>

<p style="text-align: justify;">
  La lecture du fichier settings.php vous apprendra qu&#8217;il est possible de partager des informations entre les différents sites. Vous pouvez par exemple avoir la même base concernant les users, ce qui permettra à vos utilisateurs de ne s&#8217;inscire qu&#8217;à un seul de vos sites!
</p>

<p style="text-align: justify;">
  Après cela, il faut simplement se connecter à votre site1.com, et le script d&#8217;installation se chargera du reste de l&#8217;installation.
</p>

<h2 style="text-align: justify;">
  La suite
</h2>

<p style="text-align: justify;">
  A présent, voilà comment fonctionne Drupal. Les thèmes et modules à gérer en commun sont à placer dans <em>/www/drupal/sites/all</em> , et les thèmes ou modules dédiés sont à placer dans <em>/www/drupal/sites/site1.com</em> (pour le <em>site1.com</em> par exemple).
</p>

<p style="text-align: justify;">
  Afin de bien démarrer sous Drupal, je vous propose de lire l&#8217;article suivant, qui vous donne 11 steps indispensable après une installation de Drupal : <a title="11 m ost important things after a drupal installation" href="http://timonweb.com/the-11-most-important-things-to-do-after-you-install-drupal" target="_blank">http://timonweb.com/the-11-most-important-things-to-do-after-you-install-drupal</a> . Il recense juste des modules assez indispensables. A vous de les placer dans <em>/www/drupal/sites/all</em>, mais de ne les activer sur vos sites que lorsque vous en sentez l&#8217;utilité. C&#8217;est en anglais, mais vous pouvez le traduire avec google translate si vous n&#8217;êtes pas anglophone.
</p>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="http://jice.lavocat.name/blog/" style="background-image: url(http://jice.lavocat.name/blog/images/logo.png)"><span class="hidden">Jean-Christophe Lavocat's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="http://jice.lavocat.name/blog/">Jean-Christophe Lavocat</a></h4>
  
  <p>World citizen, often found in France, loving Nature, Music and Startups</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Toulon, France</span>
    <span class="author-link icon-link"><a href="http://jice.lavocat.name">http://jice.lavocat.name</a></span>
  </div>
</section>



    
    <section class="share">
      <h4>Share this post</h4>
      <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Installation%20d%e2%80%99un%20Drupal%20multi-site&amp;url=http%3a%2f%2fjice.lavocat.name%2fblog%2f2010%2f03%2finstallation-dun-drupal-multi-site%2f"
          onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <span class="hidden">Twitter</span>
      </a>
      <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fjice.lavocat.name%2fblog%2f2010%2f03%2finstallation-dun-drupal-multi-site%2f"
          onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <span class="hidden">Facebook</span>
      </a>
      <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fjice.lavocat.name%2fblog%2f2010%2f03%2finstallation-dun-drupal-multi-site%2f"
         onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
          <span class="hidden">Google+</span>
      </a>
    </section>
    

    
    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'jicelavocat';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    

  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">World Hacks</a> All rights reserved - 2015</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="http://jice.lavocat.name/blog/js/jquery.js"></script>
    <script type="text/javascript" src="http://jice.lavocat.name/blog/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="http://jice.lavocat.name/blog/js/index.js"></script>

</body>
</html>

